# ============================================
# AI MUTUALS - BACKEND ENVIRONMENT VARIABLES
# ============================================

# ===========================================
# SERVER CONFIGURATION
# ===========================================
PORT=3002
NODE_ENV=development
# Options: development, production, test

# ===========================================
# DATABASE - MongoDB
# ===========================================

# Local MongoDB (Development)
DATABASE_URL=mongodb://localhost:27017/mutual_funds_db?authSource=admin

# MongoDB Atlas (Production) - Replace with your connection string
# DATABASE_URL=mongodb+srv://<username>:<password>@cluster.mongodb.net/mutual_funds_db?retryWrites=true&w=majority

# MongoDB Credentials (for Docker)
MONGO_USERNAME=admin
MONGO_PASSWORD=password123

# ===========================================
# REDIS - Caching & Queue
# ===========================================

# Local Redis (Development)
REDIS_URL=redis://localhost:6379

# Upstash Redis (Production - Free tier available)
# REDIS_URL=redis://default:<password>@<host>:6379

# Enable/Disable Redis (set to false if Redis not available)
ENABLE_REDIS=true

# ===========================================
# JWT AUTHENTICATION
# ===========================================

# Generate strong random secrets:
# Node: require('crypto').randomBytes(64).toString('base64')
# OpenSSL: openssl rand -base64 64

JWT_SECRET=your-super-secret-jwt-key-min-32-characters
JWT_REFRESH_SECRET=your-super-secret-refresh-key-min-32-characters

# Token expiry (optional - defaults used if not set)
JWT_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ===========================================
# GOOGLE OAUTH
# ===========================================

# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3002/api/auth/google/callback

# ===========================================
# EXTERNAL APIS
# ===========================================

# Yahoo Finance API (via RapidAPI)
# Get key from: https://rapidapi.com/apidojo/api/yahoo-finance1
RAPIDAPI_KEY=your-rapidapi-key-here
RAPIDAPI_HOST=apidojo-yahoo-finance-v1.p.rapidapi.com

# NewsData.io - Financial News API
# Get key from: https://newsdata.io/
NEWSDATA_API_KEY=your-newsdata-api-key

# Resend - Email Service
# Get key from: https://resend.com/
RESEND_API_KEY=re_your_resend_api_key

# AMFI India - NAV Data Source (Public)
AMFI_NAV_URL=https://www.amfiindia.com/spages/NAVAll.txt

# ===========================================
# AI & ML FEATURES (Optional)
# ===========================================

# OpenAI API (for enhanced AI chat)
# Get key from: https://platform.openai.com/api-keys
# Note: AI chat works without OpenAI using fallback rule-based system
OPENAI_API_KEY=sk-your-openai-api-key

# Alternative AI Models (Optional)
# ANTHROPIC_API_KEY=your-anthropic-key
# GOOGLE_AI_API_KEY=your-google-ai-key

# ===========================================
# FRONTEND URL
# ===========================================

# Frontend application URL (for CORS and redirects)
FRONTEND_URL=http://localhost:5001

# Additional allowed origins (comma-separated)
# CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ===========================================
# EMAIL CONFIGURATION (Alternative to Resend)
# ===========================================

# SMTP Settings (if using Gmail, Outlook, etc. instead of Resend)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-specific-password

# Email Sender Details
EMAIL_FROM=AI Mutuals <noreply@aimutuals.com>
EMAIL_FROM_NAME=AI Mutuals

# ===========================================
# PAYMENT GATEWAY (Optional - Future Use)
# ===========================================

# Razorpay (India)
# Get from: https://dashboard.razorpay.com/app/keys
# RAZORPAY_KEY_ID=rzp_test_your_key_id
# RAZORPAY_KEY_SECRET=your_razorpay_secret

# Stripe (International)
# STRIPE_SECRET_KEY=sk_test_your_stripe_secret
# STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable

# ===========================================
# SMS/OTP SERVICE (Optional - Future Use)
# ===========================================

# Twilio
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_PHONE_NUMBER=+1234567890

# MSG91 (India)
# MSG91_AUTH_KEY=your_msg91_auth_key
# MSG91_SENDER_ID=AIMUTL

# ===========================================
# CLOUD STORAGE (Optional - Future Use)
# ===========================================

# AWS S3
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_S3_BUCKET=aimutuals-files
# AWS_REGION=ap-south-1

# Cloudinary (Easier alternative)
# CLOUDINARY_CLOUD_NAME=your_cloud_name
# CLOUDINARY_API_KEY=your_api_key
# CLOUDINARY_API_SECRET=your_api_secret

# ===========================================
# MONITORING & ANALYTICS (Optional)
# ===========================================

# Sentry - Error Tracking
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Google Analytics
# GA_TRACKING_ID=UA-XXXXXXXXX-X

# Mixpanel - User Analytics
# MIXPANEL_TOKEN=your_mixpanel_token

# New Relic - APM
# NEW_RELIC_LICENSE_KEY=your_new_relic_key
# NEW_RELIC_APP_NAME=AI-Mutuals-Backend

# ===========================================
# RATE LIMITING
# ===========================================

# General API rate limit (requests per 15 minutes)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Auth endpoints rate limit (stricter)
AUTH_RATE_LIMIT_MAX=5

# ===========================================
# LOGGING
# ===========================================

# Log level: error, warn, info, debug
LOG_LEVEL=info

# Enable file logging (logs will be saved to /logs directory)
LOG_TO_FILE=true

# ===========================================
# CRON JOBS & BACKGROUND TASKS
# ===========================================

# Timezone for scheduled jobs
TZ=Asia/Kolkata

# NAV update schedule (cron format: "0 18 * * 1-5" = 6 PM weekdays)
NAV_UPDATE_SCHEDULE=0 18 * * 1-5

# Market data update interval (minutes)
MARKET_DATA_UPDATE_INTERVAL=15

# News update interval (minutes)
NEWS_UPDATE_INTERVAL=30

# ===========================================
# FEATURE FLAGS
# ===========================================

# Enable/disable features
ENABLE_GOOGLE_AUTH=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_KYC=false
ENABLE_TRANSACTIONS=false
ENABLE_AI_CHAT=true
ENABLE_PREDICTIONS=true

# ===========================================
# DEVELOPMENT & DEBUGGING
# ===========================================

# Enable debug mode (verbose logging)
DEBUG=false

# Enable API request logging
LOG_REQUESTS=true

# Seed database with mock data (development only)
SEED_DATABASE=false

# ===========================================
# DOCKER CONFIGURATION
# ===========================================

# Compose project name
COMPOSE_PROJECT_NAME=aimutuals

# MongoDB Admin UI (Mongo Express)
ME_USERNAME=admin
ME_PASSWORD=admin123

# ===========================================
# SECURITY
# ===========================================

# API Keys rotation date (for tracking)
# API_KEYS_ROTATED_ON=2024-01-15

# Allowed file upload extensions (comma-separated)
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf

# Max file upload size (in MB)
MAX_FILE_SIZE=5

# Session secret (for session-based auth if needed)
# SESSION_SECRET=your-session-secret

# ===========================================
# PERFORMANCE
# ===========================================

# Cache TTL (Time To Live in seconds)
CACHE_TTL=3600

# Database connection pool size
DB_POOL_SIZE=10

# Request timeout (milliseconds)
REQUEST_TIMEOUT=30000

# ===========================================
# NOTES
# ===========================================

# 1. Never commit this file with real credentials to version control
# 2. For production, use environment variable management service (AWS Secrets Manager, Azure Key Vault, etc.)
# 3. Generate strong random secrets for JWT keys
# 4. Rotate API keys regularly
# 5. Use separate databases for development, staging, and production
# 6. Enable HTTPS in production
# 7. Whitelist only required IPs in MongoDB Atlas
# 8. Monitor API usage to avoid hitting rate limits
# 9. Keep this file in sync with .env.example template

# ===========================================
# QUICK SETUP CHECKLIST
# ===========================================

# ✅ Set PORT and NODE_ENV
# ✅ Configure DATABASE_URL (MongoDB)
# ✅ Generate JWT_SECRET and JWT_REFRESH_SECRET
# ✅ Set FRONTEND_URL
# ✅ Add RAPIDAPI_KEY for Yahoo Finance
# ✅ Add NEWSDATA_API_KEY for news
# ✅ Add RESEND_API_KEY for emails
# ✅ (Optional) Configure Google OAuth
# ✅ (Optional) Add OpenAI key for AI chat
# ✅ (Optional) Set up Redis for caching

# ===========================================
# GETTING API KEYS
# ===========================================

# RapidAPI (Yahoo Finance):
#   1. Visit: https://rapidapi.com/apidojo/api/yahoo-finance1
#   2. Subscribe to free tier
#   3. Copy API key

# NewsData.io:
#   1. Visit: https://newsdata.io/register
#   2. Verify email
#   3. Copy API key from dashboard

# Resend:
#   1. Visit: https://resend.com/
#   2. Create account
#   3. Get API key

# MongoDB Atlas:
#   1. Visit: https://cloud.mongodb.com/
#   2. Create free cluster
#   3. Create database user
#   4. Whitelist IP (0.0.0.0/0 for development)
#   5. Get connection string

# Google OAuth:
#   1. Visit: https://console.cloud.google.com/
#   2. Create new project
#   3. Enable Google+ API
#   4. Create OAuth 2.0 credentials
#   5. Add authorized redirect URIs

# ===========================================
# END OF CONFIGURATION
# ===========================================
